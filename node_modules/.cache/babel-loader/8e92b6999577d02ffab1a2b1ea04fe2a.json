{"remainingRequest":"/Users/serhiirez/Documents/coachApp/node_modules/babel-loader/lib/index.js!/Users/serhiirez/Documents/coachApp/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/serhiirez/Documents/coachApp/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/serhiirez/Documents/coachApp/src/pages/coaches/CoachesList.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/serhiirez/Documents/coachApp/src/pages/coaches/CoachesList.vue","mtime":1674484403543},{"path":"/Users/serhiirez/Documents/coachApp/babel.config.js","mtime":1598437344000},{"path":"/Users/serhiirez/Documents/coachApp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/serhiirez/Documents/coachApp/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/serhiirez/Documents/coachApp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/serhiirez/Documents/coachApp/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IENvYWNoSXRlbSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2NvYWNoZXMvQ29hY2hJdGVtLnZ1ZSc7CmltcG9ydCBDb2FjaEZpbHRlciBmcm9tICcuLi8uLi9jb21wb25lbnRzL2NvYWNoZXMvQ29hY2hGaWx0ZXIudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENvYWNoSXRlbSwKICAgIENvYWNoRmlsdGVyCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgZXJyb3I6IG51bGwsCiAgICAgIGFjdGl2ZUZpbHRlcnM6IHsKICAgICAgICBmcm9udGVuZDogdHJ1ZSwKICAgICAgICBiYWNrZW5kOiB0cnVlLAogICAgICAgIGNhcmVlcjogdHJ1ZQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzTG9nZ2VkSW4oKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmlzQXV0aGVudGljYXRlZDsKICAgIH0sCiAgICBpc0NvYWNoKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY29hY2hlcy9pc0NvYWNoJ107CiAgICB9LAogICAgZmlsdGVyZWRDb2FjaGVzKCkgewogICAgICBjb25zdCBjb2FjaGVzID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY29hY2hlcy9jb2FjaGVzJ107CiAgICAgIHJldHVybiBjb2FjaGVzLmZpbHRlcihjb2FjaCA9PiB7CiAgICAgICAgaWYgKHRoaXMuYWN0aXZlRmlsdGVycy5mcm9udGVuZCAmJiBjb2FjaC5hcmVhcy5pbmNsdWRlcygnZnJvbnRlbmQnKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmFjdGl2ZUZpbHRlcnMuYmFja2VuZCAmJiBjb2FjaC5hcmVhcy5pbmNsdWRlcygnYmFja2VuZCcpKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuYWN0aXZlRmlsdGVycy5jYXJlZXIgJiYgY29hY2guYXJlYXMuaW5jbHVkZXMoJ2NhcmVlcicpKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBoYXNDb2FjaGVzKCkgewogICAgICByZXR1cm4gIXRoaXMuaXNMb2FkaW5nICYmIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NvYWNoZXMvaGFzQ29hY2hlcyddOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZENvYWNoZXMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldEZpbHRlcnModXBkYXRlZEZpbHRlcnMpIHsKICAgICAgdGhpcy5hY3RpdmVGaWx0ZXJzID0gdXBkYXRlZEZpbHRlcnM7CiAgICB9LAogICAgYXN5bmMgbG9hZENvYWNoZXMocmVmcmVzaCA9IGZhbHNlKSB7CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY29hY2hlcy9sb2FkQ29hY2hlcycsIHsKICAgICAgICAgIGZvcmNlUmVmcmVzaDogcmVmcmVzaAogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvci5tZXNzYWdlIHx8ICdTb21ldGhpbmcgd2VudCB3cm9uZyEnOwogICAgICB9CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlRXJyb3IoKSB7CiAgICAgIHRoaXMuZXJyb3IgPSBudWxsOwogICAgfQogIH0KfTs="},{"version":3,"mappings":"AAiDA,OAAOA,SAAQ,MAAO,wCAAwC;AAC9D,OAAOC,WAAU,MAAO,0CAA0C;AAElE,eAAe;EACbC,UAAU,EAAE;IACVF,SAAS;IACTC;EACF,CAAC;EACDE,IAAI,GAAG;IACL,OAAO;MACLC,SAAS,EAAE,KAAK;MAChBC,KAAK,EAAE,IAAI;MACXC,aAAa,EAAE;QACbC,QAAQ,EAAE,IAAI;QACdC,OAAO,EAAE,IAAI;QACbC,MAAM,EAAE;MACV;IACF,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,UAAU,GAAG;MACX,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAACC,eAAe;IAC5C,CAAC;IACDC,OAAO,GAAG;MACR,OAAO,IAAI,CAACH,MAAM,CAACC,OAAO,CAAC,iBAAiB,CAAC;IAC/C,CAAC;IACDG,eAAe,GAAG;MAChB,MAAMC,OAAM,GAAI,IAAI,CAACL,MAAM,CAACC,OAAO,CAAC,iBAAiB,CAAC;MACtD,OAAOI,OAAO,CAACC,MAAM,CAAEC,KAAK,IAAK;QAC/B,IAAI,IAAI,CAACb,aAAa,CAACC,QAAO,IAAKY,KAAK,CAACC,KAAK,CAACC,QAAQ,CAAC,UAAU,CAAC,EAAE;UACnE,OAAO,IAAI;QACb;QACA,IAAI,IAAI,CAACf,aAAa,CAACE,OAAM,IAAKW,KAAK,CAACC,KAAK,CAACC,QAAQ,CAAC,SAAS,CAAC,EAAE;UACjE,OAAO,IAAI;QACb;QACA,IAAI,IAAI,CAACf,aAAa,CAACG,MAAK,IAAKU,KAAK,CAACC,KAAK,CAACC,QAAQ,CAAC,QAAQ,CAAC,EAAE;UAC/D,OAAO,IAAI;QACb;QACA,OAAO,KAAK;MACd,CAAC,CAAC;IACJ,CAAC;IACDC,UAAU,GAAG;MACX,OAAO,CAAC,IAAI,CAAClB,SAAQ,IAAK,IAAI,CAACQ,MAAM,CAACC,OAAO,CAAC,oBAAoB,CAAC;IACrE;EACF,CAAC;EACDU,OAAO,GAAG;IACR,IAAI,CAACC,WAAW,EAAE;EACpB,CAAC;EACDC,OAAO,EAAE;IACPC,UAAU,CAACC,cAAc,EAAE;MACzB,IAAI,CAACrB,aAAY,GAAIqB,cAAc;IACrC,CAAC;IACD,MAAMH,WAAW,CAACI,OAAM,GAAI,KAAK,EAAE;MACjC,IAAI,CAACxB,SAAQ,GAAI,IAAI;MACrB,IAAI;QACF,MAAM,IAAI,CAACQ,MAAM,CAACiB,QAAQ,CAAC,qBAAqB,EAAE;UAChDC,YAAY,EAAEF;QAChB,CAAC,CAAC;MACJ,EAAE,OAAOvB,KAAK,EAAE;QACd,IAAI,CAACA,KAAI,GAAIA,KAAK,CAAC0B,OAAM,IAAK,uBAAuB;MACvD;MACA,IAAI,CAAC3B,SAAQ,GAAI,KAAK;IACxB,CAAC;IACD4B,WAAW,GAAG;MACZ,IAAI,CAAC3B,KAAI,GAAI,IAAI;IACnB;EACF;AACF,CAAC","names":["CoachItem","CoachFilter","components","data","isLoading","error","activeFilters","frontend","backend","career","computed","isLoggedIn","$store","getters","isAuthenticated","isCoach","filteredCoaches","coaches","filter","coach","areas","includes","hasCoaches","created","loadCoaches","methods","setFilters","updatedFilters","refresh","dispatch","forceRefresh","message","handleError"],"sourceRoot":"","sources":["/Users/serhiirez/Documents/coachApp/src/pages/coaches/CoachesList.vue"],"sourcesContent":["<template>\n  <div>\n    <base-dialog\n      :show=\"!!error\"\n      title=\"An error occurred!\"\n      @close=\"handleError\"\n    >\n      <p>{{ error }}</p>\n    </base-dialog>\n    <section>\n      <coach-filter @change-filter=\"setFilters\"></coach-filter>\n    </section>\n    <section>\n      <base-card>\n        <div class=\"controls\">\n          <base-button mode=\"outline\" @click=\"loadCoaches(true)\"\n            >Refresh</base-button\n          >\n          <base-button link to=\"/auth?redirect=register\" v-if=\"!isLoggedIn\"\n            >Login to Register as Coach</base-button\n          >\n          <base-button\n            v-if=\"isLoggedIn && !isCoach && !isLoading\"\n            link\n            to=\"/register\"\n            >Register as Coach</base-button\n          >\n        </div>\n        <div v-if=\"isLoading\">\n          <base-spinner></base-spinner>\n        </div>\n        <ul v-else-if=\"hasCoaches\">\n          <coach-item\n            v-for=\"coach in filteredCoaches\"\n            :key=\"coach.id\"\n            :id=\"coach.id\"\n            :first-name=\"coach.firstName\"\n            :last-name=\"coach.lastName\"\n            :rate=\"coach.hourlyRate\"\n            :areas=\"coach.areas\"\n          ></coach-item>\n        </ul>\n        <h3 v-else>No coaches found.</h3>\n      </base-card>\n    </section>\n  </div>\n</template>\n\n<script>\nimport CoachItem from '../../components/coaches/CoachItem.vue';\nimport CoachFilter from '../../components/coaches/CoachFilter.vue';\n\nexport default {\n  components: {\n    CoachItem,\n    CoachFilter,\n  },\n  data() {\n    return {\n      isLoading: false,\n      error: null,\n      activeFilters: {\n        frontend: true,\n        backend: true,\n        career: true,\n      },\n    };\n  },\n  computed: {\n    isLoggedIn() {\n      return this.$store.getters.isAuthenticated;\n    },\n    isCoach() {\n      return this.$store.getters['coaches/isCoach'];\n    },\n    filteredCoaches() {\n      const coaches = this.$store.getters['coaches/coaches'];\n      return coaches.filter((coach) => {\n        if (this.activeFilters.frontend && coach.areas.includes('frontend')) {\n          return true;\n        }\n        if (this.activeFilters.backend && coach.areas.includes('backend')) {\n          return true;\n        }\n        if (this.activeFilters.career && coach.areas.includes('career')) {\n          return true;\n        }\n        return false;\n      });\n    },\n    hasCoaches() {\n      return !this.isLoading && this.$store.getters['coaches/hasCoaches'];\n    },\n  },\n  created() {\n    this.loadCoaches();\n  },\n  methods: {\n    setFilters(updatedFilters) {\n      this.activeFilters = updatedFilters;\n    },\n    async loadCoaches(refresh = false) {\n      this.isLoading = true;\n      try {\n        await this.$store.dispatch('coaches/loadCoaches', {\n          forceRefresh: refresh,\n        });\n      } catch (error) {\n        this.error = error.message || 'Something went wrong!';\n      }\n      this.isLoading = false;\n    },\n    handleError() {\n      this.error = null;\n    },\n  },\n};\n</script>\n\n<style scoped>\nul {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.controls {\n  display: flex;\n  justify-content: space-between;\n}\n</style>\n"]}]}